<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="podman.io" />

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Getting Started with Podman | podman.io</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Getting Started with Podman" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Repository for podman.io website using GitHub Pages." />
<meta property="og:description" content="Repository for podman.io website using GitHub Pages." />
<link rel="canonical" href="http://0.0.0.0:4000/getting-started/getting-started.html" />
<meta property="og:url" content="http://0.0.0.0:4000/getting-started/getting-started.html" />
<meta property="og:site_name" content="podman.io" />
<script type="application/ld+json">
{"description":"Repository for podman.io website using GitHub Pages.","@type":"WebPage","url":"http://0.0.0.0:4000/getting-started/getting-started.html","headline":"Getting Started with Podman","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="shortcut icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/assets/css/style.css?v=a5ad4b5b78f492f24c1321a74efdbcc0f20fd4cd">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="">Podman</a></h1>
        <p class="header">Manage pods, containers, and container images.</p>

        <ul>
          <li><a class="buttons" href="/getting-started">Get Started</a>
          <li><a class="buttons" href="/community">Join Community</a>
          <li><a class="buttons" href="/blogs">Blog</a>
          <li><a class="buttons" href="/releases">Releases</a>
          <li><a class="buttons" href="/talks">Talks</a>
          <li><a class="buttons github" href="https://github.com/containers/libpod">View Code</a>
          <li><a class="buttons github" href="https://github.com/jberkus/podman.io">Edit Website</a>
        </ul>

        
          <p class="header">This project is maintained by the <a class="header name" href="https://github.com/jberkus">jberkus</a> organization.</p>

        <p class="header">Subscribe to the <a href="https://podman.io/feed.xml">blog feed</a>.</p>
        

        
      </header>

      <section>
        <h1 id="basic-setup-and-use-of-podman">Basic Setup and Use of Podman</h1>
<p>Podman is a utility provided as part of the libpod library.  It can be used to create and maintain
containers. The following tutorial will teach you how to set up Podman and perform some basic
commands with Podman.</p>

<p><strong>NOTE</strong>: the code samples are intended to be run as a non-root user, and use <code class="highlighter-rouge">sudo</code> where
root escalation is required.</p>

<h2 id="installing-podman">Installing Podman</h2>

<p>For installing or building Podman, please see the <a href="/getting-started/installation">installation instructions</a>.</p>

<h2 id="familiarizing-yourself-with-podman">Familiarizing yourself with Podman</h2>

<h3 id="running-a-sample-container">Running a sample container</h3>
<p>This sample container will run a very basic httpd server that serves only its index
page.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">podman run -dt -p 8080:8080/tcp -e HTTPD_VAR_RUN=/var/run/httpd -e HTTPD_MAIN_CONF_D_PATH=/etc/httpd/conf.d \
                  -e HTTPD_MAIN_CONF_PATH=/etc/httpd/conf \
                  -e HTTPD_CONTAINER_SCRIPTS_PATH=/usr/share/container-scripts/httpd/ \
                  registry.fedoraproject.org/f27/httpd /usr/bin/run-httpd
</span></code></pre></div></div>

<p>Because the container is being run in detached mode, represented by the <em>-d</em> in the <code class="highlighter-rouge">podman run</code> command, Podman
will print the container ID after it has run. Note that we use port forwarding to be able to
access the HTTP server. For successful running at least slirp4netns v0.3.0 is needed.</p>

<h3 id="listing-running-containers">Listing running containers</h3>
<p>The Podman <em>ps</em> command is used to list creating and running containers.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">podman ps
</span></code></pre></div></div>

<p>Note: If you add <em>-a</em> to the <em>ps</em> command, Podman will show all containers.</p>
<h3 id="inspecting-a-running-container">Inspecting a running container</h3>
<p>You can “inspect” a running container for metadata and details about itself.  We can even use
the inspect subcommand to see what IP address was assigned to the container. As the container is running in rootless mode, an IP address is not assigned and the value will be listed as “none” in the output from inspect.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> podman inspect <span class="nt">-l</span> | <span class="nb">grep </span>IPAddress<span class="se">\"</span>:
<span class="go">            "SecondaryIPAddresses": null,
            "IPAddress": "",
</span></code></pre></div></div>

<p>Note: The -l is a convenience argument for <strong>latest container</strong>.  You can also use the container’s ID instead
of -l.</p>

<h3 id="testing-the-httpd-server">Testing the httpd server</h3>
<p>Now that we have the IP address of the container, we can test the network communication between the host
operating system and the container using curl. The following command should display the index page of our
containerized httpd server.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">curl http://&lt;IP_address&gt;</span>:8080
</code></pre></div></div>

<h3 id="viewing-the-containers-logs">Viewing the container’s logs</h3>
<p>You can view the container’s logs with Podman as well:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> <span class="nb">sudo </span>podman logs <span class="nt">--latest</span>
<span class="go">10.88.0.1 - - [07/Feb/2018:15:22:11 +0000] "GET / HTTP/1.1" 200 612 "-" "curl/7.55.1" "-"
10.88.0.1 - - [07/Feb/2018:15:22:30 +0000] "GET / HTTP/1.1" 200 612 "-" "curl/7.55.1" "-"
10.88.0.1 - - [07/Feb/2018:15:22:30 +0000] "GET / HTTP/1.1" 200 612 "-" "curl/7.55.1" "-"
10.88.0.1 - - [07/Feb/2018:15:22:31 +0000] "GET / HTTP/1.1" 200 612 "-" "curl/7.55.1" "-"
10.88.0.1 - - [07/Feb/2018:15:22:31 +0000] "GET / HTTP/1.1" 200 612 "-" "curl/7.55.1" "-"
</span></code></pre></div></div>

<h3 id="viewing-the-containers-pids">Viewing the container’s pids</h3>
<p>And you can observe the httpd pid in the container with <em>top</em>.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> <span class="nb">sudo </span>podman top &lt;container_id&gt;
<span class="go">  UID   PID  PPID  C STIME TTY          TIME CMD
</span><span class="gp">    0 31873 31863  0 09:21 ?        00:00:00 nginx: master process nginx -g daemon off;</span>
<span class="go">  101 31889 31873  0 09:21 ?        00:00:00 nginx: worker process
</span></code></pre></div></div>

<h3 id="checkpointing-the-container">Checkpointing the container</h3>
<p>Checkpointing a container stops the container while writing the state of all processes in the container to disk.
With this a container can later be restored and continue running at exactly the same point in time as the
checkpoint. This capability requires CRIU 3.11 or later installed on the system.
To checkpoint the container use:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">sudo podman container checkpoint &lt;container_id&gt;</span>
</code></pre></div></div>

<h3 id="restoring-the-container">Restoring the container</h3>
<p>Restoring a container is only possible for a previously checkpointed container. The restored container will
continue to run at exactly the same point in time it was checkpointed.
To restore the container use:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">sudo podman container restore &lt;container_id&gt;</span>
</code></pre></div></div>

<p>After being restored, the container will answer requests again as it did before checkpointing.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">curl http://&lt;IP_address&gt;</span>:8080
</code></pre></div></div>

<h3 id="migrate-the-container">Migrate the container</h3>
<p>To live migrate a container from one host to another the container is checkpointed on the source
system of the migration, transferred to the destination system and then restored on the destination
system. When transferring the checkpoint, it is possible to specify an output-file.</p>

<p>On the source system:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">sudo podman container checkpoint &lt;container_id&gt;</span> <span class="nt">-e</span> /tmp/checkpoint.tar.gz
<span class="gp">scp /tmp/checkpoint.tar.gz &lt;destination_system&gt;</span>:/tmp
</code></pre></div></div>

<p>On the destination system:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sudo podman container restore -i /tmp/checkpoint.tar.gz
</span></code></pre></div></div>

<p>After being restored, the container will answer requests again as it did before checkpointing. This
time the container will continue to run on the destination system.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">curl http://&lt;IP_address&gt;</span>:8080
</code></pre></div></div>

<h3 id="stopping-the-container">Stopping the container</h3>
<p>To stop the httpd container:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sudo podman stop --latest
</span></code></pre></div></div>
<p>You can also check the status of one or more containers using the <em>ps</em> subcommand. In this case, we should
use the <em>-a</em> argument to list all containers.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sudo podman ps -a
</span></code></pre></div></div>

<h3 id="removing-the-container">Removing the container</h3>
<p>To remove the httpd container:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sudo podman rm --latest
</span></code></pre></div></div>
<p>You can verify the deletion of the container by running <em>podman ps -a</em>.</p>

<h2 id="integration-tests">Integration Tests</h2>
<p>For more information on how to setup and run the integration tests in your environment, checkout the Integration Tests <a href="../../test/README.md">README.md</a></p>

<h2 id="more-information">More information</h2>

<p>For more information on Podman and its subcommands, checkout the asciiart demos on the <a href="../../README.md#commands">README.md</a>
page.</p>

      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
